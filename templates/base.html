{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SmartLearn</title>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>

<body class="d-flex flex-column min-vh-100">

  <div id="page-loader">
  <div class="loader"></div>
</div>


<nav class="navbar navbar-expand-lg navbar-light fixed-top glass-navbar">
  <div class="container-fluid px-4">


    <a class="navbar-brand fw-bold fs-4" href="{% url 'home' %}">
      SmartLearn
    </a>

    <!-- MOBILE TOGGLE -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
            data-bs-target="#navbarContent">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarContent">

        <!-- LEFT MENU -->
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link" href="{% url 'home' %}">Home</a>
          </li>

          <li class="nav-item">
            <li class="nav-item dropdown mega-dropdown">
  <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">
    Courses
  </a>

  <div class="dropdown-menu mega-menu shadow">
    <div class="row p-4">

      <div class="col-md-4">
        <h6>Programming</h6>
        <a class="dropdown-item" href="#">Python</a>
        <a class="dropdown-item" href="#">Java</a>
        <a class="dropdown-item" href="#">Web Development</a>
      </div>

      <div class="col-md-4">
        <h6>Career</h6>
        <a class="dropdown-item" href="#">DSA</a>
        <a class="dropdown-item" href="#">Interview Prep</a>
        <a class="dropdown-item" href="#">Projects</a>
      </div>

      <div class="col-md-4">
        <h6>Explore</h6>
        <a class="dropdown-item" href="{% url 'courses_list' %}">
          Browse All Courses â†’
        </a>
      </div>

    </div>
  </div>
</li>

          </li>
        </ul>

       <!-- SEARCH BAR -->
            <form class="d-flex me-3" method="get" action="">
              <input
                class="form-control form-control-sm me-2"
                type="search"
                name="q"
                placeholder="Search courses..."
                value="{{ request.GET.q }}"
              >
              <button class="btn btn-sm btn-outline-primary" type="submit">
                Search
              </button>
            </form>


       
        <ul class="navbar-nav ms-auto align-items-center">


        {% if user.is_authenticated %}

          <!-- PROFILE DROPDOWN -->
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle d-flex align-items-center"
               href="#"
               role="button"
               data-bs-toggle="dropdown">

             
              {% if user.profile_picture %}
                  <img src="{{ user.profile_picture.url }}"
                      class="rounded-circle me-2"
                      style="width:38px; height:38px; object-fit:cover;">
                {% else %}
                  <div class="profile-icon me-2">
                    {{ user.first_name|default:user.username|first|upper }}
                  </div>
                {% endif %}

                {{ user.get_full_name|default:user.username }}
            </a>

            <ul class="dropdown-menu dropdown-menu-end shadow">

              <li>
                <a class="dropdown-item" href="{% url 'main_dashboard' %}">
                  ğŸ“Š Dashboard
                </a>
              </li>

              {% if user.role == "student" %}
                <li>
                  <a class="dropdown-item"
                    href="{% url 'student_profile' %}">
                    ğŸ‘¤ My Profile
                  </a>
                </li>

              {% elif user.role == "instructor" %}
                <li>
                  <a class="dropdown-item"
                    href="{% url 'instructor_profile' %}">
                    ğŸ‘¤ My Profile
                  </a>
                </li>
              {% endif %}

              <li><hr class="dropdown-divider"></li>

              <li>
                <a class="dropdown-item text-danger"
                   href="{% url 'logout' %}">
                  ğŸšª Logout
                </a>
              </li>

            </ul>
          </li>

        {% else %}

          <!-- LOGIN -->
          <li class="nav-item">
            <a class="nav-link"
               href="{% url 'login' %}">
              Login
            </a>
          </li>

          <!-- REGISTER -->
          <a class="btn btn-primary ms-2"
            href="{% url 'choose_role' %}">
            Register
          </a>


        {% endif %}

      </ul>

    </div>

  </div>
</nav>

{% if messages %}
  <div class="container mt-3">
    {% for message in messages %}
      <div class="alert-auth {{ message.tags }}">
        {{ message }}
      </div>
    {% endfor %}
  </div>
{% endif %}



{% block hero %}
{% endblock %}

  <main class="flex-grow-1">
<div class="container mt-5">
  {% block content %}
  {% endblock %}
</div>
</main>


<footer class="site-footer">
  <div class="footer-container">

    <!-- BRAND -->
    <div class="footer-col">
      <h3 class="footer-logo">SmartLearn</h3>
      <p class="footer-desc">
        SmartLearn is a modern e-learning platform to help you
        learn real-world skills, pass smart quizzes, and earn
        verified certificates.
      </p>
    </div>

    <!-- QUICK LINKS -->
    <div class="footer-col">
      <h4>Quick Links</h4>
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/courses/">Courses</a></li>
        <li><a href="/accounts/login/">Login</a></li>
        <li><a href="/accounts/register/">Register</a></li>
      </ul>
    </div>

    <!-- RESOURCES -->
    <div class="footer-col">
      <h4>Resources</h4>
      <ul>
        <li><a href="#">Certificates</a></li>
        <li><a href="#">Become Instructor</a></li>
        <li><a href="#">Help Center</a></li>
        <li><a href="#">FAQs</a></li>
      </ul>
    </div>

    <!-- CONTACT -->
    <div class="footer-col">
      <h4>Contact</h4>
      <ul class="footer-contact">
        <li>ğŸ“§ support@smartlearn.com</li>
        <li>ğŸ“ India</li>
      </ul>

      <div class="footer-social">
        <a href="#">ğŸŒ</a>
        <a href="#">ğŸ¦</a>
        <a href="#">ğŸ’¼</a>
        <a href="#">ğŸ“˜</a>
      </div>
    </div>

  </div>


  <div class="footer-bottom">
    Â© {{ year|default:2026 }} SmartLearn . All rights reserved.
  </div>
</footer>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
  setTimeout(function() {
    document.querySelectorAll('.alert').forEach(function(alert) {
      alert.classList.remove('show');
      alert.classList.add('fade');
    });
  }, 3500);


  window.addEventListener("load", () => {
    document.getElementById("page-loader").style.display = "none";
  });

  const reveals = document.querySelectorAll(".reveal");

  const revealOnScroll = () => {
    reveals.forEach(el => {
      const windowHeight = window.innerHeight;
      const elementTop = el.getBoundingClientRect().top;

      if (elementTop < windowHeight - 100) {
        el.classList.add("active");
      }
    });
  };

  window.addEventListener("scroll", revealOnScroll);
  revealOnScroll();
</script>



</body>
</html>
